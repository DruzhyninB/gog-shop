(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAjCAYAAAANDvOtAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw1AUhU9bpSIVETuIdMhQnSwUleKoVShChVArtOpg8tI/aNKQpLg4Cq4FB38Wqw4uzro6uAqC4A+Ik6OToouUeF9SaBHjhcf7OO+ew3v3Af5mlalmTxxQNcvIpJJCLr8qBF/hQwRDiCMhMVOfE8U0POvrnrqp7mI8y7vvzxpQCiYDfALxLNMNi3iDOLFp6Zz3icOsLCnE58QTBl2Q+JHrsstvnEsO+3lm2Mhm5onDxEKpi+UuZmVDJZ4mjiqqRvn+nMsK5y3OarXO2vfkLwwVtJVlrtOKIIVFLEGEABl1VFCFhRjtGikmMnSe9PCPOn6RXDK5KmDkWEANKiTHD/4Hv2drFqcm3aRQEuh9se2PMSC4C7Qatv19bNutEyDwDFxpHX+tCcx8kt7oaNEjYHAbuLjuaPIecLkDjDzpkiE5UoCWv1gE3s/om/LA8C3Qv+bOrX2O0wcgS7NK3wAHh8B4ibLXPd7d1z23f3va8/sB27dy0b/HiWcAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfkARwRMjS3jlsgAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAAXVJREFUWMPtV0FOwzAQnEZ9Bgie4B+AxGWltvTmI0Kkz6qhErfcSC++VHwhT0gR4hvhYtDKcmI7aQORvJck6xnvylmvPcCEbPbzQkS3AF4BXHTgPwE8aK3fGe8OwC6A96i1PgyJl7GBFw8RZvzZ8m0DeVvLFx1vzgauzXOttS5tFhHdA3hjuNF5mQ1yEbv8Y/KyKW2wlGxK1pUsEa36TEREyxb/wsMLjsdbV23aRElEfFfOPHMcAVwB2HOew2rHd1Q8vrJP5sSItRzAlwfzAWBj+frGC/7VDRE1Y9WoHS91gz9Ptm+XGFACq9ZuEFGL9anqMTZebBkcze4fy8aOlyzZeQSjkqJT+OVFFYzlIjEvqgPj3RiReBl1npvYWaTwGyoSd7GJtt26fgVcXlSlh9eJVVJ4RSLnKSkaj9/dZwMS9WJ9c/TlpYtMSnbyySoplqHkNqySYnGOZF2Cca+k6DwUuEh0YU99nXSt7CZCwPUVicn+pX0D2WegKSuR71sAAAAASUVORK5CYII="},166:function(e,t,n){e.exports=n.p+"static/media/assasins_creed.98e7e7b8.png"},167:function(e,t,n){e.exports=n.p+"static/media/deponia.1a35ac0c.png"},168:function(e,t,n){e.exports=n.p+"static/media/neverwinter.ee3275ed.png"},169:function(e,t,n){e.exports=n.p+"static/media/oddworld.cb2a43a9.png"},170:function(e,t,n){e.exports=n.p+"static/media/settlers.c8e341c4.png"},171:function(e,t,n){e.exports=n.p+"static/media/witcher_cover.0fc1d28b.png"},172:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAASCAYAAAC5DOVpAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kTtIw1AUhv+2SkUqFewgPiBDdbIgKuKoVShChVArtOpgctMXNGlIUlwcBdeCg4/FqoOLs64OroIg+ABxcnRSdJESz00KLWI8cLkf/z3/z73nAv56malmxzigapaRSsSFTHZVCL7Ch2GEMYheiZn6nCgm4Vlf99RNdRfjWd59f1aPkjMZ4BOIZ5luWMQbxNObls55nzjCipJCfE48ZtAFiR+5Lrv8xrngsJ9nRox0ap44QiwU2lhuY1Y0VOIp4qiiapTvz7iscN7irJarrHlP/sJQTltZ5jqtISSwiCWIECCjihLKsBCjXSPFRIrO4x7+AccvkksmVwmMHAuoQIXk+MH/4PdszfzkhJsUigOdL7b9MQIEd4FGzba/j227cQIEnoErreWv1IGZT9JrLS16BIS3gYvrlibvAZc7QP+TLhmSIwVo+fN54P2MvikL9N0C3Wvu3JrnOH0A0jSr5A1wcAiMFih73ePdXe1z+7enOb8fRj9ylRn+a4AAAAAGYktHRADeAN4A3in6na4AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfkAR0QMSuo1QhEAAAAGXRFWHRDb21tZW50AENyZWF0ZWQgd2l0aCBHSU1QV4EOFwAAASNJREFUOMvN1L8rxWEUx/HXvZTVoKRkwU2RQd1NYcUgA4tNGRnZTf4F882kTLL5cUkxKD/CcBeZLTIY5FrOrW9f3++lrsFZnjqn530+5zznPIVSqeSvrNjC3SW8oo4baG8BthpitnCdhBXRH1lqvwB1YgyH2Gg4G7BPnIXsQUyhKwd0hRG0oZoMJMs8xgJ6cfSDsrU4T/Ng1YBNooKVDMgbdkL5Oy6awSRg2zmqujEcbXnPg93hJbLCOHoy+lVGId2vNKwePZhDX2TOsvVUJZkwOAnYJu5zYDP4wHk6UEit0wAe49mb2R7mf1JWa2UrsnZzAk/YR0fCP4QHXOYNdBZsOR5gGqMJ/2IAy5j9LawSI3KE24R/F88xQgdZsMJ/+c++2RfNDjfJyOCiGAAAAABJRU5ErkJggg=="},176:function(e,t,n){e.exports=n(403)},396:function(e,t,n){},397:function(e,t,n){},398:function(e,t,n){},399:function(e,t,n){},400:function(e,t,n){},402:function(e,t,n){},403:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(158),o=n.n(c),i=n(31),s=n(407),l=n(14),d=n(15),u=n(37),m=n(36),p=n(38),A=n(405),v=n(175),f=n(86),E=n.n(f),O=(n(395),n(13)),b=n(25),g=n.n(b),h=(n(396),n(165)),C=n.n(h),w=n(87),j=function(e,t,n){return function(a,r){var c=r().product.list.find(function(t){return t.id===e});a({type:"[PRODUCT] SET_PROP",payload:Object.assign({},c,Object(w.a)({},t,n))})}},N=function(e){return function(t,n){var a=n().product.list.find(function(t){return t.id===e});t(j(e,"inCart",!0)),t({type:"[CART] ADD_CART",payload:a})}},R=function(e){return function(t,n){t(j(e,"inCart",!1)),t({type:"[CART] REMOVE_CART",payload:e})}},y=function(){return function(e,t){t().product.list.forEach(function(t){e(j(t.id,"inCart",!1))}),e({type:"[CART] CLEAR_CART"})}},k=n(166),S=n.n(k),T=n(167),D=n.n(T),I=n(168),F=n.n(I),U=n(169),M=n.n(U),B=n(170),J=n.n(B),Q=n(171),Z=n.n(Q),G=n(172),P=n.n(G),V=function(){function e(){Object(l.a)(this,e),this.imagePool=void 0,this.imagePool={assasins:S.a,deponia:D.a,neverwinter:F.a,oddworld:M.a,settlers:J.a,banner:Z.a,cart:P.a}}return Object(d.a)(e,[{key:"get",value:function(e){return this.imagePool[e]||null}}],[{key:"init",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();V.instance=void 0;var L=V.init(),H=(n(397),function(){function e(){Object(l.a)(this,e)}return Object(d.a)(e,null,[{key:"generateGUID",value:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()}},{key:"formatCurrency",value:function(e){return"$".concat(Math.floor(e/100)).concat(e%100?".".concat(e%100):".00")}}]),e}()),x=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).$element=Object(a.createRef)(),n.block=Object(a.createRef)(),n.dropdownToggle=function(e){var t=n.state.dropdownOpened;t||document.addEventListener("click",n.closeDropdown),n.setState({dropdownOpened:!t})},n.closeDropdown=function(e){n.$element.current.contains(e.target)||(n.setState({dropdownOpened:!1}),document.removeEventListener("click",n.closeDropdown))},n.calculateTotal=function(){var e=n.props.cartlist,t=0;return e.forEach(function(e){t+=e.price}),H.formatCurrency(t)},n.clearCart=function(){n.props.cartlist.length&&n.props.clearCart()},n.removeFromCart=function(e){n.props.removeFromCart(e)},n.state={icon:L.get("cart"),dropdownOpened:!1},n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,n=t.icon,a=t.dropdownOpened,c=this.props.cartlist;return r.a.createElement("div",{className:g()("cart"),ref:this.$element},r.a.createElement("div",{className:"cart-toggle",onClick:this.dropdownToggle},r.a.createElement("img",{src:n,alt:"cart"}),r.a.createElement("span",null,c.length)),r.a.createElement("div",{className:g()("cart-dropdown",{opened:a})},r.a.createElement("div",{className:"cart-dropdown_actions"},r.a.createElement("div",{className:"cart-dropdown_actions-info"},r.a.createElement("div",{className:"cart-dropdown_actions-info-count"},c.length," item",c.length>=1||!c.length?"s":""," in cart"),r.a.createElement("div",{className:"cart-dropdown_actions-info-price"},this.calculateTotal())),r.a.createElement("button",{onClick:this.clearCart,className:"cart-dropdown_actions-clear"},"Clear cart")),r.a.createElement("div",{className:"cart-dropdown_product-list"},!!c.length&&c.map(function(t){return r.a.createElement("div",{key:t.id,className:"cart-item"},r.a.createElement("div",{className:"cart-item__cover"},r.a.createElement("img",{src:t.cover,alt:t.title})),r.a.createElement("div",{className:"cart-item__body"},r.a.createElement("div",{className:"cart-item__body-info"},r.a.createElement("div",{className:"cart-item__body-info-title"},t.title),r.a.createElement("button",{onClick:function(){return e.removeFromCart(t.id)},className:"cart-item__body-info-remove"},"remove")),r.a.createElement("div",{className:"cart-item__body-price"},H.formatCurrency(t.price))))}),!c.length&&r.a.createElement("div",{className:"cart-empty"},"Cart is Empty"))))}}]),t}(r.a.Component);var W=Object(i.connect)(function(e,t){return{cartlist:e.cart.list}},function(e,t){return Object(O.b)({clearCart:y,removeFromCart:R},e)})(x),z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return a.createElement("div",{className:g()("header")},a.createElement("div",{className:"container"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("img",{className:"header-logo",src:C.a,alt:"GOG.com"})),a.createElement("div",{className:"col cart-wrapper"},a.createElement(W,null)))))}}]),t}(a.Component);var K=Object(A.a)(Object(i.connect)(function(e,t){return{}},function(e,t){return Object(O.b)({},e)})(z)),_=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.routes;return a.createElement(a.Fragment,null,a.createElement(K,null),Object(v.a)(e),a.createElement(E.a,{timeOut:4e3,newestOnTop:!1,position:"bottom-left",transitionIn:"fadeIn",transitionOut:"fadeOut",closeOnToastrClick:!0}))}}]),t}(a.Component),Y=Object(A.a)(_),q=n(174),X=n(68),$=n(60),ee={list:[{id:H.generateGUID(),title:"Oddworld: Stranger's Wrath",cover:L.get("oddworld"),discount:50,price:999,owned:!1},{id:H.generateGUID(),title:"Chaos on Deponia",cover:L.get("deponia"),price:1015,owned:!0},{id:H.generateGUID(),title:"The Settlers 2: Gold Edition",cover:L.get("settlers"),price:1199,owned:!1},{id:H.generateGUID(),title:"Neverwinter Nights",cover:L.get("neverwinter"),discount:50,price:899,owned:!1},{id:H.generateGUID(),title:"Assasins Creed: Director's Cut",cover:L.get("assasins"),price:1e3,owned:!1}]},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[PRODUCT] SET_PROP":return Object($.a)({},e,{list:Object(X.a)(e.list.map(function(e){return e.id===t.payload.id?t.payload:e}))});default:return e}},ne={list:[]},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[CART] ADD_CART":return Object($.a)({},e,{list:[].concat(Object(X.a)(e.list),[t.payload])});case"[CART] REMOVE_CART":var n=e.list.filter(function(e){return e.id!==t.payload});return Object($.a)({},e,{list:Object(X.a)(n)});case"[CART] CLEAR_CART":return Object($.a)({},e,{list:[]});default:return e}},re={bannerUrl:L.get("banner")},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;return(arguments.length>1?arguments[1]:void 0).type,e},oe=Object(O.c)({product:te,cart:ae,general:ce,toastr:f.reducer}),ie=Object(O.d)(oe,Object(O.a)(q.a)),se=n(61),le=Object(se.a)(),de=n(406),ue=(n(398),function(e){return a.createElement("img",{className:"banner",src:e.src,alt:"Banner",title:e.title})}),me=(n(399),n(400),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).getButtonText=function(){var e=n.props,t=e.price,r=e.owned,c=e.inCart;return r?a.createElement("span",{className:"owned"},"owned"):c?a.createElement("span",{className:"incart"},"In Cart"):a.createElement("span",{className:"price"},H.formatCurrency(t))},n.addToCart=function(){var e=n.props,t=e.id;e.inCart||n.props.addToCart(t)},n.state={},n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.title,r=e.cover,c=e.discount,o=e.owned;return a.createElement("div",{className:g()("product","id-".concat(t))},a.createElement("div",{className:"product-cover"},a.createElement("img",{src:r,alt:n,title:n})),a.createElement("div",{className:"product-body"},a.createElement("p",{className:"product-body__title"},n),a.createElement("div",{className:"product-body__actions"},c&&a.createElement("div",{className:"discount"},"-",c,"%"),a.createElement("button",{onClick:this.addToCart,className:"button-addtocart",disabled:o},this.getButtonText()))))}}]),t}(a.Component));var pe=Object(i.connect)(function(e,t){return{cartList:e.cart.list}},function(e,t){return Object(O.b)({addToCart:N},e)})(me),Ae=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.productList,n=e.bannerUrl;return a.createElement("div",{className:g()("shop")},a.createElement("div",{className:"container"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("h1",{className:"shop-title"},"Game of the week"))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement(ue,{src:n,title:"Game of the week"}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("div",{className:"product-container"},t.map(function(e){return a.createElement(pe,e)}))))))}}]),t}(a.Component);var ve=Object(A.a)(Object(i.connect)(function(e,t){return{productList:e.product.list,bannerUrl:e.general.bannerUrl}},function(e,t){return Object(O.b)({},e)})(Ae)),fe=[].concat([{path:"/",component:ve}],[{path:"/",component:function(){return r.a.createElement(de.a,{to:"/"})}}]);n(401),n(402);o.a.render(a.createElement(i.Provider,{store:ie},a.createElement(s.a,{history:le},a.createElement(Y,{routes:fe}))),document.getElementById("root"))}},[[176,1,2]]]);
//# sourceMappingURL=main.315c9971.chunk.js.map